{
  "config": {
    "step": {
      "user": {
        "title": "Light Controller Setup",
        "description": "Configure default settings for the Light Controller. These can be changed later in the integration options.",
        "data": {
          "default_brightness_pct": "Default Brightness",
          "default_transition": "Default Transition Time"
        },
        "data_description": {
          "default_brightness_pct": "Default brightness percentage when not specified in service calls",
          "default_transition": "Default transition time in seconds for light changes"
        }
      }
    },
    "abort": {
      "already_configured": "Light Controller is already configured"
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "Light Controller Options",
        "description": "Select an option",
        "menu_options": {
          "settings": "Settings",
          "add_preset": "Add Preset",
          "manage_presets": "Manage Presets"
        },
        "menu_option_descriptions": {
          "settings": "Configure default brightness, tolerances, retry behavior, and notifications",
          "add_preset": "Create a new lighting preset with per-light configuration",
          "manage_presets": "Edit or delete existing presets"
        }
      },
      "settings": {
        "title": "Settings",
        "description": "Configure Light Controller settings. Click section headers to expand.",
        "sections": {
          "defaults": {
            "name": "Defaults",
            "description": "Default values when not specified in service calls",
            "data": {
              "default_brightness_pct": "Default Brightness",
              "default_transition": "Default Transition Time"
            },
            "data_description": {
              "default_brightness_pct": "Brightness percentage (1-100%) applied to lights without explicit brightness",
              "default_transition": "Transition time in seconds for smooth light changes"
            }
          },
          "tolerances": {
            "name": "Tolerances",
            "description": "Allowed deviation when verifying light state after commands",
            "data": {
              "brightness_tolerance": "Brightness Tolerance",
              "rgb_tolerance": "RGB Color Tolerance",
              "kelvin_tolerance": "Color Temperature Tolerance"
            },
            "data_description": {
              "brightness_tolerance": "Allowed deviation in brightness (e.g., 3 means 47-53% passes for target 50%)",
              "rgb_tolerance": "Allowed deviation per RGB channel (0-255 scale)",
              "kelvin_tolerance": "Allowed deviation in color temperature"
            }
          },
          "retry_settings": {
            "name": "Retry Settings",
            "description": "Control retry behavior when lights don't reach target state",
            "data": {
              "delay_after_send": "Delay After Send",
              "max_retries": "Maximum Retries",
              "max_runtime_seconds": "Maximum Runtime",
              "use_exponential_backoff": "Use Exponential Backoff",
              "max_backoff_seconds": "Maximum Backoff Delay"
            },
            "data_description": {
              "delay_after_send": "Wait time after sending commands before checking state",
              "max_retries": "Number of retry attempts before giving up",
              "max_runtime_seconds": "Hard timeout - abort after this time regardless of retries",
              "use_exponential_backoff": "Double the delay after each failed retry (2s, 4s, 8s...)",
              "max_backoff_seconds": "Cap on delay when using exponential backoff"
            }
          },
          "notifications": {
            "name": "Logging & Notifications",
            "description": "Configure success logging and failure notifications",
            "data": {
              "log_success": "Log Success to Logbook"
            },
            "data_description": {
              "log_success": "Write to the Home Assistant logbook when lights reach target state"
            }
          }
        }
      },
      "add_preset": {
        "title": "Add New Preset",
        "description": "Presets store light settings and can be activated via service call or button entity. After this step, you will configure each light individually.",
        "data": {
          "name": "Preset Name",
          "entities": "Light Entities",
          "skip_verification": "Fire-and-Forget Mode"
        },
        "data_description": {
          "name": "A unique name for this preset (e.g., Evening Ambiance)",
          "entities": "Select the lights to include in this preset",
          "skip_verification": "Skip state verification (faster but won't retry on failure)"
        }
      },
      "preset_entity_menu": {
        "title": "Manage Entities: {preset_name}",
        "description": "**{entity_count} entities in this preset:**\n\n{entity_summary}\n\nSelect an action:",
        "data": {
          "action": "Action"
        }
      },
      "select_entity_to_configure": {
        "title": "Select Entity to Configure",
        "description": "Choose an entity to configure. ✓ = configured, ○ = not yet configured.",
        "data": {
          "entity_to_configure": "Entity"
        }
      },
      "configure_entity": {
        "title": "Configure: {entity_name}",
        "description": "Set state, transition, brightness and color for this light. Brightness and color fields are only used when state is On.",
        "data": {
          "state": "Target State",
          "transition": "Transition Time",
          "brightness_pct": "Brightness",
          "color_mode": "Color Mode",
          "color_temp_kelvin": "Color Temperature",
          "rgb_color": "Color Picker",
          "rgb_red": "Red (0-255)",
          "rgb_green": "Green (0-255)",
          "rgb_blue": "Blue (0-255)"
        },
        "data_description": {
          "state": "Whether this light should be on or off",
          "transition": "Transition time in seconds for this light",
          "brightness_pct": "Brightness percentage (1-100%)",
          "color_mode": "Select how to set this light's color",
          "color_temp_kelvin": "2000K (warm/orange) to 6500K (cool/blue-white)",
          "rgb_color": "Click to select a color visually",
          "rgb_red": "Red channel value (0-255)",
          "rgb_green": "Green channel value (0-255)",
          "rgb_blue": "Blue channel value (0-255)"
        }
      },
      "add_more_entities": {
        "title": "Add More Entities",
        "description": "Currently {current_count} entities in preset. Select additional lights or groups to add.",
        "data": {
          "new_entities": "Additional Entities"
        }
      },
      "remove_entity": {
        "title": "Remove Entity",
        "description": "Select an entity to remove from the preset.",
        "data": {
          "entity_to_remove": "Entity to Remove"
        }
      },
      "manage_presets": {
        "title": "Manage Presets",
        "description": "You have {preset_count} preset(s) configured. Select an action:",
        "menu_options": {
          "edit_preset": "Edit Preset",
          "delete_preset": "Delete Preset"
        },
        "menu_option_descriptions": {
          "edit_preset": "Modify an existing preset's lights and settings",
          "delete_preset": "Permanently remove a preset"
        }
      },
      "edit_preset": {
        "title": "Edit Preset",
        "description": "Select a preset to edit. You can modify its entities and settings.",
        "data": {
          "preset_to_edit": "Preset"
        }
      },
      "delete_preset": {
        "title": "Delete Preset",
        "description": "Select a preset to delete. You will be asked to confirm.",
        "data": {
          "preset_to_delete": "Preset"
        }
      },
      "confirm_delete": {
        "title": "Confirm Delete",
        "description": "Are you sure you want to delete **{preset_name}**?\n\nThis preset controls {entity_count} entities. This action cannot be undone.",
        "data": {
          "confirm_delete": "Yes, delete this preset"
        }
      }
    },
    "error": {
      "name_required": "Preset name is required",
      "entities_required": "At least one entity is required",
      "no_presets": "No presets configured. Use 'Add New Preset' to create one.",
      "cannot_remove_last": "Cannot remove the last entity. A preset must have at least one entity.",
      "configure_at_least_one": "Please configure at least one entity before saving."
    }
  },
  "services": {
    "ensure_state": {
      "name": "Ensure State",
      "description": "Ensure lights reach a target state with verification and retries",
      "fields": {
        "entities": {
          "name": "Entities",
          "description": "Light entities, light groups, or helper groups to control"
        },
        "state": {
          "name": "State",
          "description": "Target state for the lights (on or off)"
        },
        "brightness_pct": {
          "name": "Brightness",
          "description": "Default brightness percentage (1-100)"
        },
        "rgb_color": {
          "name": "RGB Color",
          "description": "Default RGB color for all lights"
        },
        "color_temp_kelvin": {
          "name": "Color Temperature",
          "description": "Default color temperature (2000K warm - 6500K cool)"
        },
        "effect": {
          "name": "Effect",
          "description": "Effect to apply (e.g., colorloop, rainbow)"
        },
        "targets": {
          "name": "Per-Light Overrides",
          "description": "Per-light settings (e.g., [{\"entity_id\": \"light.desk\", \"brightness_pct\": 80}])"
        },
        "brightness_tolerance": {
          "name": "Brightness Tolerance",
          "description": "Allowed deviation when verifying brightness"
        },
        "rgb_tolerance": {
          "name": "RGB Tolerance",
          "description": "Allowed deviation per RGB channel (0-255)"
        },
        "kelvin_tolerance": {
          "name": "Kelvin Tolerance",
          "description": "Allowed deviation for color temperature"
        },
        "transition": {
          "name": "Transition",
          "description": "Transition time in seconds"
        },
        "delay_after_send": {
          "name": "Delay After Send",
          "description": "Wait time after commands before verification"
        },
        "max_retries": {
          "name": "Max Retries",
          "description": "Maximum retry attempts"
        },
        "max_runtime_seconds": {
          "name": "Max Runtime",
          "description": "Hard timeout in seconds"
        },
        "use_exponential_backoff": {
          "name": "Exponential Backoff",
          "description": "Double delay after each retry (2s, 4s, 8s...)"
        },
        "max_backoff_seconds": {
          "name": "Max Backoff",
          "description": "Maximum delay with exponential backoff"
        },
        "skip_verification": {
          "name": "Skip Verification",
          "description": "Fire-and-forget mode without verification"
        },
        "log_success": {
          "name": "Log Success",
          "description": "Write success message to logbook"
        }
      }
    },
    "activate_preset": {
      "name": "Activate Preset",
      "description": "Activate a saved preset by name or ID",
      "fields": {
        "preset": {
          "name": "Preset",
          "description": "Name or ID of the preset (e.g., Evening Ambiance)"
        }
      }
    },
    "create_preset": {
      "name": "Create Preset",
      "description": "Create a new preset with specified settings",
      "fields": {
        "name": {
          "name": "Preset Name",
          "description": "A unique name for this preset"
        },
        "entities": {
          "name": "Entities",
          "description": "Light entities to include"
        },
        "state": {
          "name": "State",
          "description": "Target state when activated"
        },
        "brightness_pct": {
          "name": "Brightness",
          "description": "Brightness percentage"
        },
        "rgb_color": {
          "name": "RGB Color",
          "description": "RGB color for the preset"
        },
        "color_temp_kelvin": {
          "name": "Color Temperature",
          "description": "Color temperature (2000K warm - 6500K cool)"
        },
        "effect": {
          "name": "Effect",
          "description": "Effect to apply"
        },
        "targets": {
          "name": "Per-Light Overrides",
          "description": "Optional per-light settings"
        },
        "transition": {
          "name": "Transition",
          "description": "Transition time"
        },
        "skip_verification": {
          "name": "Skip Verification",
          "description": "Use fire-and-forget mode"
        }
      }
    },
    "delete_preset": {
      "name": "Delete Preset",
      "description": "Delete a saved preset",
      "fields": {
        "preset_id": {
          "name": "Preset ID",
          "description": "ID of the preset (visible in button attributes)"
        }
      }
    },
    "create_preset_from_current": {
      "name": "Create Preset from Current",
      "description": "Create a preset from the current state of lights",
      "fields": {
        "name": {
          "name": "Preset Name",
          "description": "A unique name for this preset"
        },
        "entities": {
          "name": "Entities",
          "description": "Light entities to capture state from"
        }
      }
    }
  },
  "entity": {
    "button": {
      "preset": {
        "name": "{name}"
      }
    },
    "sensor": {
      "preset_status": {
        "name": "{name} Status",
        "state": {
          "idle": "Idle",
          "activating": "Activating...",
          "success": "Success",
          "failed": "Failed"
        }
      }
    }
  }
}
